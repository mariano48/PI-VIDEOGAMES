{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_GAME, FILTER_BY, GET_ALL_GENRES, GET_ALL_PLATFORMS, GET_ALL_VIDEOGAMES, GET_GAMES_BY_NAME, GET_GAME_BY_ID, LOADING, ERROR, RESET_FILTERS, SORT_GAMES } from \"./common/constants\"; // export function getAllVideogames() {\n//   return async function (dispatch) {\n//     dispatch({ type: LOADING });\n//     try {\n//       const response = await axios.get(`http://localhost:3001/videogames`);\n//       return dispatch({\n//         type: GET_ALL_VIDEOGAMES,\n//         payload: response.data,\n//       });\n//     } catch (error) {\n//       return dispatch({\n//         type: ERROR,\n//         payload: error.message,\n//       });\n//     }\n//   };\n// }\n\nexport function getAllVideogames() {\n  return async function (dispatch) {\n    return fetch(`http://localhost:3001/videogames`).then(data => data.json()).then(json => dispatch({\n      type: GET_ALL_VIDEOGAMES,\n      payload: json\n    }));\n  };\n}\nexport function getAllGenres() {\n  return async function (dispatch) {\n    const response = await axios.get(`http://localhost:3001/genres`);\n    return dispatch({\n      type: GET_ALL_GENRES,\n      payload: response.data\n    });\n  };\n}\nexport function getGameById(value) {\n  const id = value.match.params.id;\n  return async function (dispatch) {\n    dispatch({\n      type: LOADING\n    });\n\n    try {\n      const response = await axios.get(`http://localhost:3001/videogames/${id}`);\n      return dispatch({\n        type: GET_GAME_BY_ID,\n        payload: response.data\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message\n      });\n    }\n  };\n}\nexport function getVideogamesByName(value) {\n  return async function (dispatch) {\n    dispatch({\n      type: LOADING\n    });\n\n    try {\n      const response = await axios.get(`http://localhost:3001/videogames`, {\n        params: {\n          search: value\n        }\n      });\n      return dispatch({\n        type: GET_GAMES_BY_NAME,\n        payload: response.data\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message\n      });\n    }\n  };\n}\nexport function getAllPlatforms() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(`http://localhost:3001/platforms`);\n      return dispatch({\n        type: GET_ALL_PLATFORMS,\n        payload: response.data\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message\n      });\n    }\n  };\n}\nexport function filterBy(values) {\n  return function (dispatch) {\n    return dispatch({\n      type: FILTER_BY,\n      payload: values\n    });\n  };\n}\nexport function sortGames(values) {\n  return function (dispatch) {\n    return dispatch({\n      type: SORT_GAMES,\n      payload: values\n    });\n  };\n}\nexport function createGame(values) {\n  return async function (dispatch) {\n    dispatch({\n      type: LOADING\n    });\n\n    try {\n      const response = await axios.post(`http://localhost:3001/videogames`, {\n        name: values.name[0].toUpperCase() + values.name.slice(1).toLowerCase(),\n        description: values.description,\n        released: values.released,\n        rating: values.rating,\n        image: values.image,\n        platforms: values.platforms,\n        genres: values.genres\n      });\n      return dispatch({\n        type: CREATE_GAME,\n        payload: response.data\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message\n      });\n    }\n  };\n}\nexport function resetFilters(payload) {\n  return function (dispatch) {\n    return dispatch({\n      type: RESET_FILTERS,\n      payload\n    });\n  };\n}","map":{"version":3,"names":["axios","CREATE_GAME","FILTER_BY","GET_ALL_GENRES","GET_ALL_PLATFORMS","GET_ALL_VIDEOGAMES","GET_GAMES_BY_NAME","GET_GAME_BY_ID","LOADING","ERROR","RESET_FILTERS","SORT_GAMES","getAllVideogames","dispatch","fetch","then","data","json","type","payload","getAllGenres","response","get","getGameById","value","id","match","params","error","message","getVideogamesByName","search","getAllPlatforms","filterBy","values","sortGames","createGame","post","name","toUpperCase","slice","toLowerCase","description","released","rating","image","platforms","genres","resetFilters"],"sources":["/home/mariano/Documents/PI-Videogames-main/client/src/redux/actions.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  CREATE_GAME,\n  FILTER_BY,\n  GET_ALL_GENRES,\n  GET_ALL_PLATFORMS,\n  GET_ALL_VIDEOGAMES,\n  GET_GAMES_BY_NAME,\n  GET_GAME_BY_ID,\n  LOADING,\n  ERROR,\n  RESET_FILTERS,\n  SORT_GAMES,\n} from \"./common/constants\";\n\n// export function getAllVideogames() {\n//   return async function (dispatch) {\n//     dispatch({ type: LOADING });\n//     try {\n//       const response = await axios.get(`http://localhost:3001/videogames`);\n//       return dispatch({\n//         type: GET_ALL_VIDEOGAMES,\n//         payload: response.data,\n//       });\n//     } catch (error) {\n//       return dispatch({\n//         type: ERROR,\n//         payload: error.message,\n//       });\n//     }\n//   };\n// }\n\nexport function getAllVideogames() {\n  return async function (dispatch) {\n    return fetch(`http://localhost:3001/videogames`)\n      .then((data) => data.json())\n      .then((json) => dispatch({ type: GET_ALL_VIDEOGAMES, payload: json }));\n  };\n}\n\nexport function getAllGenres() {\n  return async function (dispatch) {\n    const response = await axios.get(`http://localhost:3001/genres`);\n    return dispatch({\n      type: GET_ALL_GENRES,\n      payload: response.data,\n    });\n  };\n}\n\nexport function getGameById(value) {\n  const id = value.match.params.id;\n  return async function (dispatch) {\n    dispatch({ type: LOADING });\n    try {\n      const response = await axios.get(\n        `http://localhost:3001/videogames/${id}`\n      );\n      return dispatch({\n        type: GET_GAME_BY_ID,\n        payload: response.data,\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message,\n      });\n    }\n  };\n}\n\nexport function getVideogamesByName(value) {\n  return async function (dispatch) {\n    dispatch({ type: LOADING });\n    try {\n      const response = await axios.get(`http://localhost:3001/videogames`, {\n        params: { search: value },\n      });\n      return dispatch({\n        type: GET_GAMES_BY_NAME,\n        payload: response.data,\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message,\n      });\n    }\n  };\n}\n\nexport function getAllPlatforms() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(`http://localhost:3001/platforms`);\n      return dispatch({\n        type: GET_ALL_PLATFORMS,\n        payload: response.data,\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message,\n      });\n    }\n  };\n}\n\nexport function filterBy(values) {\n  return function (dispatch) {\n    return dispatch({\n      type: FILTER_BY,\n      payload: values,\n    });\n  };\n}\n\nexport function sortGames(values) {\n  return function (dispatch) {\n    return dispatch({\n      type: SORT_GAMES,\n      payload: values,\n    });\n  };\n}\n\nexport function createGame(values) {\n  return async function (dispatch) {\n    dispatch({ type: LOADING });\n    try {\n      const response = await axios.post(`http://localhost:3001/videogames`, {\n        name: values.name[0].toUpperCase() + values.name.slice(1).toLowerCase(),\n        description: values.description,\n        released: values.released,\n        rating: values.rating,\n        image: values.image,\n        platforms: values.platforms,\n        genres: values.genres,\n      });\n      return dispatch({\n        type: CREATE_GAME,\n        payload: response.data,\n      });\n    } catch (error) {\n      return dispatch({\n        type: ERROR,\n        payload: error.message,\n      });\n    }\n  };\n}\n\nexport function resetFilters(payload) {\n  return function (dispatch) {\n    return dispatch({\n      type: RESET_FILTERS,\n      payload,\n    });\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}